{
  "id": "sei-transaction-workflow",
  "name": "Sei Transaction Management",
  "description": "Complete workflow for sending SEI tokens and monitoring transactions",
  "version": 1,
  "active": true,
  "tags": ["sei", "transaction", "payment", "demo"],
  "nodes": [
    {
      "id": "check-balance-pre",
      "type": "AI_AGENT",
      "position": { "x": 100, "y": 100 },
      "data": {
        "config": {
          "systemPrompt": "You are a Sei Network assistant. Use the available tools to help users interact with Sei Network.",
          "tools": ["get_sei_balance"],
          "maxSteps": 5,
          "provider": "openrouter",
          "model": "meta-llama/llama-3.1-70b-instruct"
        },
        "inputs": {
          "prompt": "Check my current SEI token balance before sending a transaction"
        },
        "label": "Check Balance (Pre-Transaction)"
      }
    },
    {
      "id": "estimate-gas",
      "type": "AI_AGENT",
      "position": { "x": 300, "y": 100 },
      "data": {
        "config": {
          "systemPrompt": "You are a Sei Network assistant. Use the available tools to help users interact with Sei Network.",
          "tools": ["estimate_sei_gas"],
          "maxSteps": 5,
          "provider": "openrouter",
          "model": "meta-llama/llama-3.1-70b-instruct"
        },
        "inputs": {
          "prompt": "Estimate gas cost for sending 0.1 SEI to address {{recipientAddress}}"
        },
        "label": "Estimate Transaction Gas"
      }
    },
    {
      "id": "send-transaction",
      "type": "AI_AGENT",
      "position": { "x": 500, "y": 100 },
      "data": {
        "config": {
          "systemPrompt": "You are a Sei Network assistant. Use the available tools to help users interact with Sei Network. Be careful with transactions and confirm details.",
          "tools": ["send_sei_transaction"],
          "maxSteps": 5,
          "provider": "openrouter",
          "model": "meta-llama/llama-3.1-70b-instruct"
        },
        "inputs": {
          "prompt": "Send 0.1 SEI tokens to {{recipientAddress}}. Only proceed if the balance check shows sufficient funds."
        },
        "label": "Send SEI Transaction"
      }
    },
    {
      "id": "verify-transaction",
      "type": "AI_AGENT",
      "position": { "x": 300, "y": 300 },
      "data": {
        "config": {
          "systemPrompt": "You are a Sei Network assistant. Use the available tools to help users interact with Sei Network.",
          "tools": ["get_sei_transaction"],
          "maxSteps": 5,
          "provider": "openrouter",
          "model": "meta-llama/llama-3.1-70b-instruct"
        },
        "inputs": {
          "prompt": "Get details of the transaction that was just sent. Use the transaction hash from the previous step: {{send-transaction.response}}"
        },
        "label": "Verify Transaction Details"
      }
    },
    {
      "id": "check-balance-post",
      "type": "AI_AGENT",
      "position": { "x": 100, "y": 300 },
      "data": {
        "config": {
          "systemPrompt": "You are a Sei Network assistant. Use the available tools to help users interact with Sei Network.",
          "tools": ["get_sei_balance"],
          "maxSteps": 5,
          "provider": "openrouter",
          "model": "meta-llama/llama-3.1-70b-instruct"
        },
        "inputs": {
          "prompt": "Check my SEI token balance after the transaction to confirm it was deducted"
        },
        "label": "Check Balance (Post-Transaction)"
      }
    },
    {
      "id": "generate-report",
      "type": "AI_AGENT",
      "position": { "x": 300, "y": 500 },
      "data": {
        "config": {
          "systemPrompt": "You are a helpful assistant that creates comprehensive transaction reports.",
          "tools": [],
          "maxSteps": 3,
          "provider": "openrouter",
          "model": "meta-llama/llama-3.1-70b-instruct"
        },
        "inputs": {
          "prompt": "Create a comprehensive transaction report including: pre-transaction balance {{check-balance-pre.response}}, gas estimate {{estimate-gas.response}}, transaction details {{send-transaction.response}}, verification {{verify-transaction.response}}, and post-transaction balance {{check-balance-post.response}}"
        },
        "label": "Generate Transaction Report"
      }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "source": "check-balance-pre",
      "target": "estimate-gas",
      "type": "default"
    },
    {
      "id": "e2",
      "source": "estimate-gas",
      "target": "send-transaction",
      "type": "default"
    },
    {
      "id": "e3",
      "source": "send-transaction",
      "target": "verify-transaction",
      "type": "default"
    },
    {
      "id": "e4",
      "source": "send-transaction",
      "target": "check-balance-post",
      "type": "default"
    },
    {
      "id": "e5",
      "source": "verify-transaction",
      "target": "generate-report",
      "type": "default"
    },
    {
      "id": "e6",
      "source": "check-balance-post",
      "target": "generate-report",
      "type": "default"
    }
  ],
  "metadata": {
    "createdAt": "2025-01-31T10:00:00Z",
    "updatedAt": "2025-01-31T10:00:00Z",
    "category": "demo",
    "difficulty": "intermediate",
    "estimatedDuration": "2-3 minutes",
    "requirements": [
      "Sei Network MCP server configured",
      "Valid wallet private key with SEI balance",
      "Recipient address for testing"
    ],
    "description": "This workflow demonstrates a complete transaction lifecycle on Sei Network: checking balance, estimating gas, sending tokens, verifying the transaction, and generating a comprehensive report.",
    "variables": {
      "recipientAddress": {
        "type": "string",
        "description": "Recipient wallet address for the SEI transaction (0x format)",
        "default": "0x742d35Cc6634C0532925a3b8b4C3dd8e4B1c1234",
        "required": true
      }
    }
  }
}