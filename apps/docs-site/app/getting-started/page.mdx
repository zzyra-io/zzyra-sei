import InteractiveCodeBlock from "../../components/InteractiveCodeBlock";
import {
  CheckCircle,
  AlertTriangle,
  Info,
  Zap,
  Database,
  Workflow,
  Shield,
  ArrowRight,
} from "lucide-react";

<div className="relative overflow-hidden">
  {/* Hero Section */}
  <section className="relative px-6 py-16 mx-auto max-w-4xl">
    <div className="text-center mb-12">
      <div className="inline-flex items-center gap-2 px-4 py-2 mb-6 rounded-full bg-green-500/10 text-green-300 ring-1 ring-green-500/20">
        <Zap className="w-4 h-4" />
        <span className="text-sm font-medium">Quick Setup Guide</span>
      </div>
      
      <h1 className="text-5xl font-bold text-white mb-6">
        Get Started with <span className="bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">Zyra</span>
      </h1>
      
      <p className="text-xl text-slate-300 max-w-2xl mx-auto leading-relaxed">
        Create your first AI-powered workflow in under 10 minutes. Follow our step-by-step guide to build, deploy, and manage blockchain automation.
      </p>
    </div>
    
    {/* Progress indicators */}
    <div className="flex items-center justify-center gap-4 mb-12">
      <div className="flex items-center gap-2 text-sm">
        <Database className="w-4 h-4 text-blue-400" />
        <span className="text-slate-300">Setup</span>
      </div>
      <div className="w-8 h-px bg-slate-700" />
      <div className="flex items-center gap-2 text-sm">
        <Workflow className="w-4 h-4 text-purple-400" />
        <span className="text-slate-300">Build</span>
      </div>
      <div className="w-8 h-px bg-slate-700" />
      <div className="flex items-center gap-2 text-sm">
        <Shield className="w-4 h-4 text-green-400" />
        <span className="text-slate-300">Deploy</span>
      </div>
    </div>
  </section>

{/* Prerequisites */}

<section className='relative px-6 py-12 mx-auto max-w-4xl'>
  <div className='card-elevated mb-8'>
    <div className='flex items-start gap-4 mb-4'>
      <div className='icon-container'>
        <Info className='w-5 h-5' />
      </div>
      <div>
        <h2 className='text-xl font-semibold text-white mb-2'>Prerequisites</h2>
        <p className='text-slate-300 mb-4'>
          Before we begin, make sure you have the following installed on your
          system:
        </p>
      </div>
    </div>

    <div className='grid gap-4 md:grid-cols-2'>
      <div className='p-4 rounded-lg bg-slate-900/50 border border-slate-800'>
        <h3 className='font-semibold text-white mb-2'>Required</h3>
        <ul className='space-y-2 text-sm text-slate-300'>
          <li className='flex items-center gap-2'>
            <CheckCircle className='w-4 h-4 text-green-400 flex-shrink-0' />
            <span>Node.js 18+ and npm/pnpm</span>
          </li>
          <li className='flex items-center gap-2'>
            <CheckCircle className='w-4 h-4 text-green-400 flex-shrink-0' />
            <span>Docker and Docker Compose</span>
          </li>
          <li className='flex items-center gap-2'>
            <CheckCircle className='w-4 h-4 text-green-400 flex-shrink-0' />
            <span>Git for version control</span>
          </li>
        </ul>
      </div>

      <div className='p-4 rounded-lg bg-slate-900/50 border border-slate-800'>
        <h3 className='font-semibold text-white mb-2'>Recommended</h3>
        <ul className='space-y-2 text-sm text-slate-300'>
          <li className='flex items-center gap-2'>
            <Info className='w-4 h-4 text-blue-400 flex-shrink-0' />
            <span>VS Code with TypeScript extension</span>
          </li>
          <li className='flex items-center gap-2'>
            <Info className='w-4 h-4 text-blue-400 flex-shrink-0' />
            <span>Basic knowledge of blockchain</span>
          </li>
          <li className='flex items-center gap-2'>
            <Info className='w-4 h-4 text-blue-400 flex-shrink-0' />
            <span>Wallet with testnet funds</span>
          </li>
        </ul>
      </div>
    </div>

  </div>
</section>

{/* Step 1: Installation */}

  <section className="relative px-6 py-12 mx-auto max-w-4xl">
    <div className="mb-12">
      <div className="flex items-center gap-4 mb-6">
        <div className="flex items-center justify-center w-10 h-10 rounded-full bg-purple-500/10 text-purple-400 font-bold border border-purple-500/20">
          1
        </div>
        <h2 className="text-3xl font-bold text-white">Installation & Setup</h2>
      </div>
      
      <p className="text-lg text-slate-300 mb-8 leading-relaxed">
        Let's start by setting up your development environment and installing Zyra.
      </p>
    </div>
    
    {/* Clone Repository */}
    <div className="mb-8">
      <h3 className="text-xl font-semibold text-white mb-4">Clone the Repository</h3>
      <InteractiveCodeBlock
        title="Clone Zyra Repository"
        description="Get the latest version from GitHub"
        language="bash"
        code={`# Clone the repository
git clone https://github.com/your-org/zyra.git
cd zyra

# Install dependencies

pnpm install

# Copy environment variables

cp .env.example .env`}
/>

</div>

    {/* Database Setup */}
    <div className="mb-8">
      <h3 className="text-xl font-semibold text-white mb-4">Database Setup with PostgreSQL</h3>
      <p className="text-slate-300 mb-4">
        Zyra uses PostgreSQL as its primary database. We'll set it up using Docker Compose for easy development.
      </p>

      <InteractiveCodeBlock
        title="Start PostgreSQL with Docker Compose"
        description="Launch PostgreSQL, Redis, and other services"
        language="bash"
        executable={true}
        code={`# Start all services (PostgreSQL, Redis, Worker)

docker-compose up -d

# Check if services are running

docker-compose ps

# View logs if needed

docker-compose logs postgres`}
/>

      <div className="mt-6 p-4 rounded-lg bg-blue-500/10 border border-blue-500/20">
        <div className="flex items-start gap-3">
          <Info className="w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5" />
          <div>
            <h4 className="font-semibold text-blue-300 mb-2">Database Configuration</h4>
            <p className="text-sm text-blue-200 mb-3">
              The Docker setup automatically configures PostgreSQL with the following default settings:
            </p>
            <ul className="text-sm text-blue-200 space-y-1">
              <li>â€¢ <strong>Host:</strong> localhost</li>
              <li>â€¢ <strong>Port:</strong> 5432</li>
              <li>â€¢ <strong>Database:</strong> zyra</li>
              <li>â€¢ <strong>Username:</strong> zyra</li>
              <li>â€¢ <strong>Password:</strong> zyra_dev_password</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    {/* Environment Configuration */}
    <div className="mb-8">
      <h3 className="text-xl font-semibold text-white mb-4">Environment Configuration</h3>
      <p className="text-slate-300 mb-4">
        Configure your environment variables for local development:
      </p>

      <InteractiveCodeBlock
        title=".env Configuration"
        description="Essential environment variables"
        language="bash"
        code={`# Database Configuration

DATABASE_URL="postgresql://zyra:zyra_dev_password@localhost:5432/zyra"

# Redis Configuration

REDIS_URL="redis://localhost:6379"

# API Configuration

API_PORT=3001
WORKER_PORT=3003

# Security

JWT_SECRET="your-super-secure-jwt-secret-key"
ENCRYPTION_KEY="your-32-character-encryption-key"

# Blockchain RPC URLs (use testnet for development)

ETHEREUM_RPC_URL="https://eth-goerli.g.alchemy.com/v2/your-api-key"
POLYGON_RPC_URL="https://polygon-mumbai.g.alchemy.com/v2/your-api-key"

# AI Configuration (Optional for basic features)

OPENAI_API_KEY="your-openai-api-key-for-ai-features"`}
/>

</div>

    {/* Database Migration */}
    <div className="mb-8">
      <h3 className="text-xl font-semibold text-white mb-4">Initialize Database</h3>
      <p className="text-slate-300 mb-4">
        Run Prisma migrations to set up your database schema:
      </p>

      <InteractiveCodeBlock
        title="Database Migration"
        description="Set up database tables and seed data"
        language="bash"
        executable={true}
        code={`# Generate Prisma client

npx prisma generate

# Run database migrations

npx prisma migrate dev --name init

# Seed the database with sample data

npx prisma db seed

# Open Prisma Studio to view data (optional)

npx prisma studio`}
/>

</div>

  </section>

{/* Step 2: First Workflow */}

  <section className="relative px-6 py-12 mx-auto max-w-4xl">
    <div className="mb-12">
      <div className="flex items-center gap-4 mb-6">
        <div className="flex items-center justify-center w-10 h-10 rounded-full bg-purple-500/10 text-purple-400 font-bold border border-purple-500/20">
          2
        </div>
        <h2 className="text-3xl font-bold text-white">Create Your First Workflow</h2>
      </div>
      
      <p className="text-lg text-slate-300 mb-8 leading-relaxed">
        Now let's create a simple workflow to get familiar with Zyra's capabilities.
      </p>
    </div>
    
    {/* Start Development Server */}
    <div className="mb-8">
      <h3 className="text-xl font-semibold text-white mb-4">Start Development Servers</h3>
      <p className="text-slate-300 mb-4">
        Launch all necessary services for development:
      </p>
      
      <InteractiveCodeBlock
        title="Start All Services"
        description="API, Worker, and UI development servers"
        language="bash"
        executable={true}
        code={`# Start all services in development mode
pnpm run dev

# Or start individual services:

# pnpm run dev:api # API server (port 3001)

# pnpm run dev:worker # Worker service (port 3003)

# pnpm run dev:ui # UI application (port 3000)`}

      />

      <div className="mt-6 grid gap-4 md:grid-cols-3">
        <div className="p-4 rounded-lg bg-slate-900/50 border border-slate-800">
          <h4 className="font-semibold text-white mb-2 flex items-center gap-2">
            <div className="w-2 h-2 bg-green-400 rounded-full"></div>
            API Server
          </h4>
          <p className="text-sm text-slate-300">
            <a href="http://localhost:3001" className="text-purple-400 hover:text-purple-300">
              http://localhost:3001
            </a>
          </p>
        </div>

        <div className="p-4 rounded-lg bg-slate-900/50 border border-slate-800">
          <h4 className="font-semibold text-white mb-2 flex items-center gap-2">
            <div className="w-2 h-2 bg-blue-400 rounded-full"></div>
            UI Application
          </h4>
          <p className="text-sm text-slate-300">
            <a href="http://localhost:3000" className="text-purple-400 hover:text-purple-300">
              http://localhost:3000
            </a>
          </p>
        </div>

        <div className="p-4 rounded-lg bg-slate-900/50 border border-slate-800">
          <h4 className="font-semibold text-white mb-2 flex items-center gap-2">
            <div className="w-2 h-2 bg-yellow-400 rounded-full"></div>
            Worker Service
          </h4>
          <p className="text-sm text-slate-300">Background processing</p>
        </div>
      </div>
    </div>

    {/* Create Simple Workflow */}
    <div className="mb-8">
      <h3 className="text-xl font-semibold text-white mb-4">Build Your First Workflow</h3>
      <p className="text-slate-300 mb-6">
        Let's create a simple price monitoring workflow using Zyra's visual builder:
      </p>

      <div className="grid gap-6 md:grid-cols-2">
        <div className="card-elevated">
          <h4 className="font-semibold text-white mb-4">ðŸŽ¯ Workflow Goal</h4>
          <p className="text-slate-300 text-sm mb-4">
            Monitor ETH price and send a notification when it crosses $2,000
          </p>

          <div className="space-y-3 text-sm">
            <div className="flex items-center gap-3">
              <div className="w-6 h-6 bg-blue-500/10 rounded border border-blue-500/20 flex items-center justify-center">
                <span className="text-blue-400 text-xs">1</span>
              </div>
              <span className="text-slate-300">Price Trigger Block</span>
            </div>
            <div className="flex items-center gap-3">
              <div className="w-6 h-6 bg-purple-500/10 rounded border border-purple-500/20 flex items-center justify-center">
                <span className="text-purple-400 text-xs">2</span>
              </div>
              <span className="text-slate-300">Condition Check</span>
            </div>
            <div className="flex items-center gap-3">
              <div className="w-6 h-6 bg-green-500/10 rounded border border-green-500/20 flex items-center justify-center">
                <span className="text-green-400 text-xs">3</span>
              </div>
              <span className="text-slate-300">Send Notification</span>
            </div>
          </div>
        </div>

        <div className="card-elevated">
          <h4 className="font-semibold text-white mb-4">âš¡ Quick Setup</h4>
          <div className="space-y-3 text-sm text-slate-300">
            <div className="flex items-start gap-3">
              <CheckCircle className="w-4 h-4 text-green-400 flex-shrink-0 mt-1" />
              <span>Open the Workflow Builder at localhost:3000</span>
            </div>
            <div className="flex items-start gap-3">
              <CheckCircle className="w-4 h-4 text-green-400 flex-shrink-0 mt-1" />
              <span>Drag "Price Monitor" block from the sidebar</span>
            </div>
            <div className="flex items-start gap-3">
              <CheckCircle className="w-4 h-4 text-green-400 flex-shrink-0 mt-1" />
              <span>Configure: Token=ETH, Threshold=$2000</span>
            </div>
            <div className="flex items-start gap-3">
              <CheckCircle className="w-4 h-4 text-green-400 flex-shrink-0 mt-1" />
              <span>Connect to "Webhook Notification" block</span>
            </div>
            <div className="flex items-start gap-3">
              <CheckCircle className="w-4 h-4 text-green-400 flex-shrink-0 mt-1" />
              <span>Deploy and activate your workflow</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    {/* Alternative: API Approach */}
    <div className="mb-8">
      <h3 className="text-xl font-semibold text-white mb-4">Alternative: Using the API</h3>
      <p className="text-slate-300 mb-4">
        Prefer code? Create the same workflow using our TypeScript SDK:
      </p>

      <InteractiveCodeBlock
        title="Create Workflow via API"
        description="Programmatic workflow creation"
        language="typescript"
        executable={true}
        code={`import { ZyraClient } from '@zyra/sdk'

// Initialize the client
const zyra = new ZyraClient({
apiKey: process.env.ZYRA_API_KEY,
baseUrl: 'http://localhost:3001'
})

// Create a price monitoring workflow
const workflow = await zyra.workflows.create({
name: 'ETH Price Monitor',
description: 'Monitor ETH price and notify when above $2000',

blocks: [
{
type: 'price-monitor',
config: {
token: 'ETH',
exchange: 'binance',
threshold: 2000,
condition: 'above'
}
},
{
type: 'webhook-notification',
config: {
url: 'https://hooks.slack.com/your-webhook-url',
message: 'ðŸš€ ETH is now above $2000!'
}
}
],

connections: [
{ from: 0, to: 1 } // Connect price monitor to notification
]
})

console.log('Workflow created:', workflow.id)

// Deploy the workflow
await zyra.workflows.deploy(workflow.id)
console.log('Workflow deployed and active!')`}
/>

</div>

  </section>

{/* Step 3: Testing & Monitoring */}

  <section className="relative px-6 py-12 mx-auto max-w-4xl">
    <div className="mb-12">
      <div className="flex items-center gap-4 mb-6">
        <div className="flex items-center justify-center w-10 h-10 rounded-full bg-purple-500/10 text-purple-400 font-bold border border-purple-500/20">
          3
        </div>
        <h2 className="text-3xl font-bold text-white">Testing & Monitoring</h2>
      </div>
      
      <p className="text-lg text-slate-300 mb-8 leading-relaxed">
        Learn how to test your workflow and monitor its performance.
      </p>
    </div>
    
    {/* Testing Commands */}
    <div className="mb-8">
      <h3 className="text-xl font-semibold text-white mb-4">Test Your Workflow</h3>
      <p className="text-slate-300 mb-4">
        Use these commands to test and debug your workflows:
      </p>
      
      <InteractiveCodeBlock
        title="Testing Commands"
        description="Debug and test workflow execution"
        language="bash"
        executable={true}
        code={`# Run tests
pnpm test

# Test specific workflow execution

pnpm test:workflow --id=your-workflow-id

# Test with live data

pnpm test:integration

# View execution logs

pnpm logs --workflow=eth-price-monitor

# Monitor real-time execution

pnpm monitor --follow`}
/>

</div>

    {/* Monitoring Dashboard */}
    <div className="mb-8">
      <div className="card-elevated">
        <div className="flex items-start gap-4 mb-6">
          <div className="icon-container">
            <Workflow className="w-5 h-5" />
          </div>
          <div>
            <h3 className="text-xl font-semibold text-white mb-2">Monitoring Dashboard</h3>
            <p className="text-slate-300">
              Access your workflow monitoring dashboard to track performance and debug issues:
            </p>
          </div>
        </div>

        <div className="grid gap-4 md:grid-cols-3 mb-6">
          <div className="p-4 rounded-lg bg-slate-900/50 border border-slate-800 text-center">
            <div className="text-2xl font-bold text-green-400 mb-1">98.5%</div>
            <div className="text-sm text-slate-400">Success Rate</div>
          </div>
          <div className="p-4 rounded-lg bg-slate-900/50 border border-slate-800 text-center">
            <div className="text-2xl font-bold text-blue-400 mb-1">1.2s</div>
            <div className="text-sm text-slate-400">Avg Response</div>
          </div>
          <div className="p-4 rounded-lg bg-slate-900/50 border border-slate-800 text-center">
            <div className="text-2xl font-bold text-purple-400 mb-1">247</div>
            <div className="text-sm text-slate-400">Executions Today</div>
          </div>
        </div>

        <div className="flex gap-3">
          <a href="http://localhost:3000/dashboard" className="btn-accent text-sm">
            Open Dashboard
          </a>
          <a href="http://localhost:3000/workflows" className="btn-secondary text-sm">
            Manage Workflows
          </a>
        </div>
      </div>
    </div>

  </section>

{/* Next Steps */}

  <section className="relative px-6 py-12 mx-auto max-w-4xl">
    <div className="mb-12">
      <h2 className="text-3xl font-bold text-white mb-6 text-center">ðŸŽ‰ Congratulations!</h2>
      <p className="text-lg text-slate-300 text-center max-w-2xl mx-auto leading-relaxed">
        You've successfully set up Zyra and created your first workflow. Here's what to explore next:
      </p>
    </div>
    
    <div className="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
      <div className="card-feature group">
        <div className="flex items-center gap-3 mb-4">
          <div className="icon-container">
            <Workflow className="w-5 h-5" />
          </div>
          <h3 className="font-semibold text-white">Advanced Workflows</h3>
        </div>
        <p className="text-slate-300 text-sm mb-4">
          Learn to build complex multi-step workflows with conditional logic and loops.
        </p>
        <a href="/workflow-builder" className="text-purple-400 hover:text-purple-300 text-sm font-medium flex items-center gap-2">
          Explore Builder <ArrowRight className="w-4 h-4" />
        </a>
      </div>
      
      <div className="card-feature group">
        <div className="flex items-center gap-3 mb-4">
          <div className="icon-container-accent">
            <Zap className="w-5 h-5" />
          </div>
          <h3 className="font-semibold text-white">AI Features</h3>
        </div>
        <p className="text-slate-300 text-sm mb-4">
          Discover how to use natural language to generate and optimize workflows.
        </p>
        <a href="/ai-features" className="text-yellow-400 hover:text-yellow-300 text-sm font-medium flex items-center gap-2">
          Try AI Features <ArrowRight className="w-4 h-4" />
        </a>
      </div>
      
      <div className="card-feature group">
        <div className="flex items-center gap-3 mb-4">
          <div className="icon-container">
            <Database className="w-5 h-5" />
          </div>
          <h3 className="font-semibold text-white">Integrations</h3>
        </div>
        <p className="text-slate-300 text-sm mb-4">
          Connect with popular DeFi protocols, exchanges, and external services.
        </p>
        <a href="/integrations" className="text-purple-400 hover:text-purple-300 text-sm font-medium flex items-center gap-2">
          View Integrations <ArrowRight className="w-4 h-4" />
        </a>
      </div>
    </div>
    
    {/* Support Section */}
    <div className="mt-12 card-elevated text-center">
      <div className="mb-6">
        <h3 className="text-xl font-semibold text-white mb-2">Need Help?</h3>
        <p className="text-slate-300">
          Join our community or reach out for support
        </p>
      </div>
      
      <div className="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="https://discord.gg/zyra" className="btn-secondary text-sm">
          Join Discord
        </a>
        <a href="https://github.com/your-org/zyra/discussions" className="btn-secondary text-sm">
          GitHub Discussions
        </a>
        <a href="/support" className="btn-secondary text-sm">
          Documentation
        </a>
      </div>
    </div>
  </section>
</div>
