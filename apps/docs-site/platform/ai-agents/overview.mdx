---
title: "AI Agents"
description: "Current AI integration and planned agent system for Zzyra - intelligent workflow automation with expanding capabilities"
---

## AI Integration Overview

<Alert type="info">
  **Development Status**: Zzyra has core AI integration implemented with OpenRouter and Ollama. Advanced AI agent capabilities with MCP tools are in active development.
</Alert>

Zzyra is building toward an advanced AI Agent system for intelligent workflow automation. Here's what's currently available and what's planned for the AI capabilities.

## Core Capabilities

### **Intelligent Reasoning**
- **Sequential Thinking**: Advanced step-by-step reasoning with configurable complexity (1-50 steps)
- **Multiple Thinking Modes**: Fast, Deliberate, and Collaborative reasoning patterns
- **Real-time Reasoning Visualization**: Live thinking panel showing AI decision-making process
- **Context Awareness**: Full access to previous workflow block outputs and variables

### **Multi-Provider AI Support**
- **OpenRouter**: Access to multiple state-of-the-art models
- **OpenAI**: GPT-4 and other OpenAI models
- **Anthropic**: Claude models for advanced reasoning
- **Ollama**: Local AI processing for privacy-sensitive operations

### **Tool Integration**
- **11+ MCP Servers**: Pre-configured tools across development, blockchain, and web automation
- **Dynamic Tool Loading**: Runtime discovery and configuration of new MCP servers
- **Real-time Tool Testing**: Validate tool connections before execution
- **Secure Credential Management**: Encrypted storage of API keys and sensitive data

## Agent Configuration

### **Basic Agent Setup**

```typescript
interface AIAgentConfig {
  agent: {
    name: string;              // Custom agent name
    systemPrompt: string;      // Agent personality and capabilities
    userPrompt: string;        // Specific task description
    thinkingMode: "fast" | "deliberate" | "collaborative";
    maxSteps: number;          // 1-50 reasoning steps
  };
  
  provider: {
    type: "openrouter" | "openai" | "anthropic" | "ollama";
    model: string;             // Specific model name
    temperature: number;       // 0-2 creativity level
    maxTokens: number;         // Response length limit
  };
  
  execution: {
    mode: "autonomous" | "interactive";  // Approval required?
    timeout: number;                     // Execution timeout (ms)
    saveThinking: boolean;               // Save reasoning steps
    requireApproval: boolean;            // Human approval required
  };
  
  selectedTools: ToolConfig[];           // Available MCP tools
}
```

### **Advanced Configuration Options**

<Tabs>
  <Tab title="Thinking Modes">
    **Fast Mode**: Quick responses with minimal reasoning steps
    - Best for: Simple tasks, rapid prototyping
    - Reasoning depth: 1-3 steps
    - Response time: < 10 seconds
    
    **Deliberate Mode**: Thorough analysis with detailed reasoning
    - Best for: Complex tasks, critical decisions
    - Reasoning depth: 5-15 steps
    - Response time: 30-60 seconds
    
    **Collaborative Mode**: Interactive reasoning with user input
    - Best for: Uncertain tasks, learning scenarios
    - Reasoning depth: Variable with user feedback
    - Response time: Depends on user interaction
  </Tab>
  
  <Tab title="Execution Modes">
    **Autonomous Mode**: Full agent autonomy
    - Agent executes all planned actions automatically
    - Best for: Trusted environments, routine tasks
    - Monitoring: Real-time progress tracking
    
    **Interactive Mode**: Human-in-the-loop approval
    - Agent requests approval before critical actions
    - Best for: High-risk operations, learning phase
    - Controls: Approve, reject, or modify actions
  </Tab>
  
  <Tab title="Provider Selection">
    **OpenRouter**: Multi-model access
    - Models: GPT-4, Claude-3, Llama-2, and 50+ others
    - Advantages: Model diversity, competitive pricing
    - Best for: Production workflows
    
    **Local Processing (Ollama)**: Privacy-first AI
    - Models: Llama-2, CodeLlama, Mistral
    - Advantages: No data leaves your infrastructure
    - Best for: Sensitive data, compliance requirements
  </Tab>
</Tabs>

## Real-time Execution Monitoring

### **Live Execution Dashboard**

Zyra provides comprehensive real-time monitoring of AI agent execution:

<CardGroup cols={2}>
  <Card title="Thinking Process Visualization" icon="brain">
    **Live Thinking Panel**: Real-time display of AI reasoning steps
    - Step-by-step thought process
    - Confidence levels for each decision
    - Tool selection rationale
    - Problem-solving approach
  </Card>
  
  <Card title="Tool Execution Tracking" icon="wrench">
    **Tool Call Monitoring**: Track all MCP tool interactions
    - Tool parameters and configurations
    - Execution results and outputs
    - Error handling and retries
    - Performance metrics
  </Card>
  
  <Card title="Progress Indicators" icon="chart-line">
    **Execution Progress**: Visual progress tracking
    - Overall completion percentage
    - Current step description
    - Estimated time remaining
    - Success/failure indicators
  </Card>
  
  <Card title="Error Management" icon="shield-exclamation">
    **Error Handling**: Comprehensive error tracking
    - Detailed error messages
    - Recovery attempt logs
    - Fallback strategy execution
    - User notification system
  </Card>
</CardGroup>

### **WebSocket-Based Updates**

```typescript
// Real-time execution monitoring
interface ExecutionUpdate {
  nodeId: string;
  status: "running" | "completed" | "failed";
  progress: number;              // 0-100
  thinkingSteps: ThinkingStep[];
  toolCalls: ToolCall[];
  error?: string;
  startTime: Date;
  endTime?: Date;
  duration?: number;
}

// WebSocket connection for live updates
const { isConnected } = useExecutionWebSocket({
  executionId: data.executionId,
  onNodeUpdate: (update: NodeExecutionUpdate) => {
    // Update UI with real-time progress
    updateAgentStatus(update);
  },
  onExecutionLog: (log: ExecutionLog) => {
    // Display execution logs
    addLogEntry(log);
  },
});
```

## Tool Management System

### **Available Tool Categories**

<AccordionGroup>
  <Accordion title="Development Tools" icon="code">
    **Git Repository** (`git`): Version control operations
    - Repository management
    - Commit and branch operations
    - Merge conflict resolution
    
    **PostgreSQL** (`postgres`): Database operations
    - Query execution and data retrieval
    - Schema management
    - Performance optimization
    
    **HTTP Requests** (`fetch`): API interactions
    - REST API calls
    - Authentication handling
    - Response processing
  </Accordion>
  
  <Accordion title="Blockchain Tools" icon="link">
    **GOAT Blockchain** (`goat`): Comprehensive blockchain operations
    - Multi-chain wallet management (Sei, Base, Ethereum)
    - DeFi protocol interactions
    - Token transfers and swaps
    - NFT operations
    
    **Sei Network** (`sei`): Native Sei blockchain operations
    - Sei-specific protocol interactions
    - Native token management
    - Smart contract deployment
    - CosmWasm contract interactions
  </Accordion>
  
  <Accordion title="Web Automation" icon="globe">
    **Puppeteer** (`puppeteer`): Browser automation
    - Web scraping and data extraction
    - Form filling and submission
    - Screenshot and PDF generation
    
    **Brave Search** (`brave-search`): Web search capabilities
    - Real-time web search
    - News and information gathering
    - Content research and analysis
  </Accordion>
  
  <Accordion title="AI Enhancement" icon="brain">
    **Sequential Thinking** (`sequential-thinking`): Advanced reasoning
    - Multi-step problem decomposition
    - Logical reasoning chains
    - Complex decision trees
    
    **Time & Weather** (`time`, `weather`): Context awareness
    - Current time and timezone handling
    - Weather data for location-based decisions
    - Temporal reasoning capabilities
  </Accordion>
</AccordionGroup>

### **Tool Configuration Interface**

<Tabs>
  <Tab title="Tool Selection">
    ```tsx
    // Dynamic tool selection interface
    <ToolSelector
      availableTools={mcpServers}
      onToolSelect={(tool) => {
        if (tool.configSchema) {
          // Open configuration modal for tools requiring setup
          openConfigModal(tool);
        } else {
          // Add tool directly if no configuration needed
          addToolToAgent(tool);
        }
      }}
      categories={["development", "blockchain", "web", "ai"]}
    />
    ```
  </Tab>
  
  <Tab title="Configuration Validation">
    ```typescript
    // Real-time configuration validation
    interface ToolConfigValidation {
      validateConfig(tool: MCPServerConfig, config: any): ValidationResult;
      testConnection(tool: MCPServerConfig): Promise<ConnectionTest>;
      getConfigSchema(toolId: string): JSONSchema;
    }
    
    // Example validation for blockchain tools
    const validation = await validateConfig("goat", {
      EVM_WALLET_PRIVATE_KEY: "0x...",
      RPC_PROVIDER_URL: "https://sepolia.base.org",
      USE_BASE_SEPOLIA: "true"
    });
    ```
  </Tab>
  
  <Tab title="Runtime Management">
    ```typescript
    // Runtime tool management
    interface RuntimeToolManager {
      enableTool(toolId: string): Promise<void>;
      disableTool(toolId: string): Promise<void>;
      reconfigureTool(toolId: string, newConfig: any): Promise<void>;
      getToolStatus(toolId: string): ToolStatus;
    }
    
    // Tool status monitoring
    enum ToolStatus {
      CONNECTED = "connected",
      DISCONNECTED = "disconnected",
      ERROR = "error",
      CONFIGURING = "configuring"
    }
    ```
  </Tab>
</Tabs>

## Integration Patterns

### **Workflow Integration**

AI Agents integrate seamlessly with Zyra's workflow system:

```typescript
// AI Agent as workflow block
interface AIAgentBlock extends WorkflowBlock {
  type: "AI_AGENT";
  config: AIAgentConfig;
  
  // Input from previous blocks
  inputs: {
    context?: Record<string, any>;
    prompt?: string;
    variables?: Record<string, any>;
  };
  
  // Output for subsequent blocks
  outputs: {
    result: string;           // Main agent response
    reasoning: ThinkingStep[]; // Reasoning process
    toolCalls: ToolCall[];    // Tool interactions
    metadata: ExecutionMetadata;
  };
}

// Template access to previous block outputs
const agentPrompt = `
  Analyze the data from the previous HTTP request: {{httpRequest.data}}
  Consider the current price: {{priceMonitor.currentPrice}}
  Execute appropriate blockchain operations based on the analysis.
`;
```

### **Cross-Block Data Flow**

<Tabs>
  <Tab title="Input Processing">
    ```typescript
    // Agent processes data from previous workflow blocks
    interface AgentInputProcessor {
      processHTTPResponse(response: HTTPResponse): ProcessedData;
      processPriceData(priceData: PriceMonitorOutput): MarketContext;
      processBlockchainData(txData: TransactionData): BlockchainContext;
      
      // Combine all inputs into agent context
      createExecutionContext(inputs: WorkflowInputs): AgentContext;
    }
    ```
  </Tab>
  
  <Tab title="Output Formatting">
    ```typescript
    // Agent outputs formatted for subsequent blocks
    interface AgentOutputFormatter {
      formatForHTTPRequest(agentResult: string): HTTPRequestConfig;
      formatForBlockchainTx(agentResult: string): TransactionConfig;
      formatForNotification(agentResult: string): NotificationConfig;
      
      // Extract structured data from agent response
      extractStructuredData(response: string): StructuredOutput;
    }
    ```
  </Tab>
  
  <Tab title="Template Variables">
    ```typescript
    // Template variable system for cross-block communication
    interface TemplateProcessor {
      // Access previous block outputs
      "{{previousBlock.result}}": string;
      "{{httpRequest.data.price}}": number;
      "{{priceMonitor.triggered}}": boolean;
      
      // Agent-specific variables
      "{{agent.reasoning[0].content}}": string;
      "{{agent.toolCalls[0].result}}": any;
      "{{agent.confidence}}": number;
    }
    ```
  </Tab>
</Tabs>

## Best Practices

### **Agent Design Patterns**

<CardGroup cols={2}>
  <Card title="Task Decomposition" icon="sitemap">
    **Break complex tasks into smaller, manageable steps**
    
    ```
    System Prompt Example:
    "You are a DeFi portfolio manager. For each task:
    1. Analyze current market conditions
    2. Assess portfolio health
    3. Identify optimization opportunities  
    4. Execute necessary transactions
    5. Monitor results and adjust strategy"
    ```
  </Card>
  
  <Card title="Error Recovery" icon="refresh">
    **Implement robust error handling and recovery strategies**
    
    ```
    "If a transaction fails:
    1. Analyze the failure reason
    2. Check network conditions
    3. Adjust gas parameters if needed
    4. Retry with exponential backoff
    5. Alert user if maximum retries exceeded"
    ```
  </Card>
  
  <Card title="Security First" icon="shield-check">
    **Always prioritize security in agent instructions**
    
    ```
    "Security constraints:
    - Never share private keys or sensitive data
    - Validate all external data sources
    - Use minimum required permissions
    - Log all critical operations for audit"
    ```
  </Card>
  
  <Card title="Performance Optimization" icon="gauge">
    **Optimize agent performance for production use**
    
    ```
    "Performance guidelines:
    - Cache frequently accessed data
    - Batch similar operations when possible
    - Use appropriate thinking modes for task complexity
    - Monitor and optimize tool selection"
    ```
  </Card>
</CardGroup>

### **Common Use Cases**

<AccordionGroup>
  <Accordion title="DeFi Portfolio Management" icon="chart-line">
    **Automated portfolio rebalancing and optimization**
    
    - Monitor portfolio performance across multiple protocols
    - Analyze market conditions and identify opportunities
    - Execute rebalancing transactions based on strategy
    - Track performance and adjust parameters
    
    **Tools used**: GOAT Blockchain, Sei Network, HTTP Requests, Sequential Thinking
  </Accordion>
  
  <Accordion title="Smart Contract Monitoring" icon="shield-check">
    **Automated smart contract security and performance monitoring**
    
    - Monitor contract events and state changes
    - Analyze transaction patterns for anomalies
    - Execute emergency procedures if threats detected
    - Generate security reports and alerts
    
    **Tools used**: Blockchain tools, HTTP Requests, PostgreSQL, Git
  </Accordion>
  
  <Accordion title="Cross-Chain Arbitrage" icon="refresh">
    **Automated arbitrage opportunity detection and execution**
    
    - Monitor prices across multiple DEXs and chains
    - Calculate profitability including gas costs
    - Execute arbitrage transactions when profitable
    - Track performance and optimize strategy
    
    **Tools used**: GOAT Blockchain, HTTP Requests, Sequential Thinking
  </Accordion>
  
  <Accordion title="Research and Analysis" icon="magnifying-glass">
    **Automated market research and analysis**
    
    - Gather data from multiple sources (web, APIs, blockchain)
    - Analyze trends and patterns
    - Generate comprehensive reports
    - Execute trading strategies based on findings
    
    **Tools used**: Brave Search, HTTP Requests, PostgreSQL, Puppeteer
  </Accordion>
</AccordionGroup>

## Advanced Features

### **Custom MCP Server Integration**

Extend agent capabilities by adding custom MCP servers:

```typescript
// Custom MCP server definition
interface CustomMCPServer {
  id: string;
  name: string;
  displayName: string;
  description: string;
  category: string;
  
  connection: {
    type: "stdio" | "http" | "websocket";
    command?: string;
    args?: string[];
    url?: string;
    env?: Record<string, string>;
  };
  
  configSchema: {
    type: "object";
    properties: Record<string, any>;
    required: string[];
  };
  
  tools: MCPTool[];
}

// Register custom server
const customServer: CustomMCPServer = {
  id: "custom-analytics",
  name: "custom-analytics",
  displayName: "Custom Analytics Engine",
  description: "Custom analytics and reporting tools",
  category: "analytics",
  
  connection: {
    type: "stdio",
    command: "python",
    args: ["./custom-analytics-server.py"],
    env: {
      "API_KEY": "{{secrets.analytics_api_key}}"
    }
  },
  
  configSchema: {
    type: "object",
    properties: {
      "API_KEY": {
        type: "string",
        description: "Analytics API key",
        required: true,
        sensitive: true
      }
    },
    required: ["API_KEY"]
  },
  
  tools: [
    {
      name: "analyze_portfolio",
      description: "Analyze portfolio performance and risks",
      parameters: {
        type: "object",
        properties: {
          portfolioData: { type: "object" },
          timeframe: { type: "string" }
        }
      }
    }
  ]
};
```

### **Multi-Agent Coordination**

Coordinate multiple AI agents for complex workflows:

```typescript
// Multi-agent workflow pattern
interface MultiAgentWorkflow {
  agents: {
    researcher: AIAgentConfig;     // Market research and analysis
    strategist: AIAgentConfig;     // Strategy development
    executor: AIAgentConfig;       // Transaction execution
    monitor: AIAgentConfig;        // Performance monitoring
  };
  
  coordination: {
    dataFlow: AgentDataFlow[];     // How agents share data
    dependencies: AgentDependency[]; // Execution order
    conflictResolution: ConflictResolutionStrategy;
  };
}

// Example coordination pattern
const defiWorkflow: MultiAgentWorkflow = {
  agents: {
    researcher: {
      agent: {
        name: "Market Researcher",
        systemPrompt: "Analyze market conditions and identify opportunities",
        tools: ["brave-search", "fetch", "sequential-thinking"]
      }
    },
    executor: {
      agent: {
        name: "Transaction Executor", 
        systemPrompt: "Execute transactions based on research findings",
        tools: ["goat", "sei"]
      }
    }
  },
  
  coordination: {
    dataFlow: [
      { from: "researcher", to: "executor", data: "marketAnalysis" }
    ]
  }
};
```

## Troubleshooting

### **Common Issues**

<AccordionGroup>
  <Accordion title="Tool Connection Issues" icon="plug-disconnected">
    **Symptoms**: Tools showing as disconnected or timing out
    
    **Solutions**:
    - Verify network connectivity and firewall settings
    - Check API keys and authentication credentials
    - Validate tool configuration against schema
    - Review MCP server logs for error details
    - Test tool connections independently
  </Accordion>
  
  <Accordion title="Execution Timeouts" icon="clock">
    **Symptoms**: Agents timing out during execution
    
    **Solutions**:
    - Increase execution timeout in agent configuration
    - Optimize tool selection for faster operations
    - Break complex tasks into smaller steps
    - Use appropriate thinking mode for task complexity
    - Monitor system resources and scale if needed
  </Accordion>
  
  <Accordion title="Performance Issues" icon="gauge">
    **Symptoms**: Slow agent responses or high resource usage
    
    **Solutions**:
    - Optimize system prompts for clarity and brevity
    - Use caching for frequently accessed data
    - Select appropriate AI models for task complexity
    - Monitor and optimize tool usage patterns
    - Consider local AI processing for simple tasks
  </Accordion>
  
  <Accordion title="Integration Problems" icon="link">
    **Symptoms**: Agents not receiving data from previous blocks
    
    **Solutions**:
    - Verify template variable syntax in prompts
    - Check block execution order and dependencies
    - Validate data types and formats between blocks
    - Review workflow execution logs for data flow issues
    - Test individual blocks in isolation
  </Accordion>
</AccordionGroup>

## Next Steps

<CardGroup cols={2}>
  <Card title="MCP Tools Guide" icon="wrench" href="/platform/mcp-tools/overview">
    Comprehensive guide to available MCP tools and their capabilities
  </Card>
  
  <Card title="Blockchain Integration" icon="link" href="/platform/blockchain/overview">
    Learn about blockchain tools and DeFi automation capabilities
  </Card>
  
  <Card title="Workflow Builder" icon="sitemap" href="/platform/workflows/builder">
    Build complex workflows combining AI agents with other blocks
  </Card>
  
  <Card title="API Reference" icon="code" href="/api-reference/ai-agents">
    Technical API documentation for AI agent integration
  </Card>
</CardGroup>